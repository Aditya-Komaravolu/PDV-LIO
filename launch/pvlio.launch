<launch>
    <!-- Launch file for velodyne16 VLP-16 LiDAR -->

    <arg name="rviz" default="true"/>
    <arg name="debug" default="false"/>
    <arg name="base_path"/>


    <rosparam command="load" file="$(find pv_lio)/config/pvlio.yaml"/>
    <param name="base_path" type="string" value="$(find pv_lio)/PCD/" />
    <!-- load the last odometry json -->
    <!-- <param name="load_state_json" type="string" value="$(find pv_lio)/odometry_dump/odom_last_state.json" /> -->


    <node pkg="pv_lio" type="pv_lio_node" name="pv_lio_node" output="screen" required="true" />
    
    <!-- mid2 -->
    <!-- <node pkg="image_transport" type="republish" name="decompress" output="screen" args="compressed in:=/pylon_camera_node/image_raw raw out:=/camera_out" /> -->
    
    <!-- mid3 -->
    <node pkg="image_transport" type="republish" name="decompress" output="screen" args="compressed in:=/camera/image_raw raw out:=/camera_out" />


    <group if="$(arg rviz)">
        <node launch-prefix="nice" pkg="rviz" type="rviz" name="rviz"
              args="-d $(find pv_lio)/config/rviz_cfg/voxel_mapping.rviz"/>
    </group>

</launch>
